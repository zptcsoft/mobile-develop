<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    #mycanvas {
        width: 300px;
        height: 300px;
        border: 1px solid #000;
    }
    </style>
</head>
<body>
    <canvas id="mycanvas" width="300" height="300"></canvas>
    <script>
    var c = document.getElementById("mycanvas");
    var ctx = c.getContext("2d");
    var img = new Image();
    img.src = "a.jpg";
    ctx.drawImage(img, 0, 0);
    

    var imageData = ctx.getImageData(0, 0, c.width, c.height);
    var imgData = grayscale(imageData);
    ctx.putImageData(imgData, 0, 0);

    function grayscale(pixels) {

        var d = pixels.data;
        for (var i = 0; i < d.length; i += 4) {
            var r = d[i];
            var g = d[i + 1];
            var b = d[i + 2];
            d[i] = d[i + 1] = d[i + 2] = (r + g + b) / 3;
        }
        return pixels;
    };

    </script>
</body>
</html>